$date
	Sun Sep 21 21:09:23 2025
$end
$version
	QuestaSim Version 2021.1
$end
$timescale
	1ps
$end

$scope module UART_TX_tb $end
$var parameter 32 ! Clock_PERIOD $end
$var reg 8 " P_DATA_tb [7:0] $end
$var reg 1 # DATA_VALID_tb $end
$var reg 1 $ PAR_EN_tb $end
$var reg 1 % PAR_TYP_tb $end
$var reg 1 & CLK_tb $end
$var reg 1 ' RST_tb $end
$var wire 1 ( TX_OUT_tb $end
$var wire 1 ) Busy_tb $end
$var integer 32 * i $end

$scope task initialize $end
$upscope $end

$scope task reset $end
$upscope $end

$scope task transmit_withparity $end
$var reg 8 + data [7:0] $end
$var reg 1 , parity_type $end
$var reg 11 - expected_frame [10:0] $end
$var reg 1 . even_parity $end
$var reg 1 / odd_parity $end
$upscope $end

$scope task transmit_withoutparity $end
$var reg 8 0 data [7:0] $end
$var reg 10 1 expected_frame [9:0] $end
$upscope $end

$scope module DUT $end
$var parameter 32 2 DATA_WIDTH $end
$var wire 1 3 P_DATA [7] $end
$var wire 1 4 P_DATA [6] $end
$var wire 1 5 P_DATA [5] $end
$var wire 1 6 P_DATA [4] $end
$var wire 1 7 P_DATA [3] $end
$var wire 1 8 P_DATA [2] $end
$var wire 1 9 P_DATA [1] $end
$var wire 1 : P_DATA [0] $end
$var wire 1 ; DATA_VALID $end
$var wire 1 < PAR_EN $end
$var wire 1 = PAR_TYP $end
$var wire 1 > CLK $end
$var wire 1 ? RST $end
$var wire 1 ( TX_OUT $end
$var wire 1 ) Busy $end
$var wire 1 @ ser_done $end
$var wire 1 A ser_en $end
$var wire 1 B ser_data $end
$var wire 1 C par_bit $end
$var wire 1 D start_bit $end
$var wire 1 E stop_bit $end
$var wire 1 F mux_sel [2] $end
$var wire 1 G mux_sel [1] $end
$var wire 1 H mux_sel [0] $end

$scope module fsm $end
$var parameter 3 I IDLE $end
$var parameter 3 J START $end
$var parameter 3 K SEND_DATA $end
$var parameter 3 L PARITY $end
$var parameter 3 M STOP $end
$var wire 1 > CLK $end
$var wire 1 ? RST $end
$var wire 1 ; Data_Valid $end
$var wire 1 @ ser_done $end
$var wire 1 < PAR_EN $end
$var reg 1 N ser_en $end
$var reg 3 O mux_sel [2:0] $end
$var reg 1 P busy $end
$var reg 3 Q current_state [2:0] $end
$var reg 3 R next_state [2:0] $end
$var reg 1 S busy_c $end
$upscope $end

$scope module ser $end
$var parameter 32 T DATA_WIDTH $end
$var wire 1 > CLK $end
$var wire 1 ? RST $end
$var wire 1 3 P_DATA [7] $end
$var wire 1 4 P_DATA [6] $end
$var wire 1 5 P_DATA [5] $end
$var wire 1 6 P_DATA [4] $end
$var wire 1 7 P_DATA [3] $end
$var wire 1 8 P_DATA [2] $end
$var wire 1 9 P_DATA [1] $end
$var wire 1 : P_DATA [0] $end
$var wire 1 A ser_en $end
$var wire 1 ; Data_Valid $end
$var wire 1 ) Busy $end
$var wire 1 @ ser_done $end
$var wire 1 B ser_data $end
$var reg 8 U shift_reg [7:0] $end
$var reg 3 V counter [2:0] $end
$upscope $end

$scope module par_calc $end
$var parameter 32 W DATA_WIDTH $end
$var wire 1 3 P_DATA [7] $end
$var wire 1 4 P_DATA [6] $end
$var wire 1 5 P_DATA [5] $end
$var wire 1 6 P_DATA [4] $end
$var wire 1 7 P_DATA [3] $end
$var wire 1 8 P_DATA [2] $end
$var wire 1 9 P_DATA [1] $end
$var wire 1 : P_DATA [0] $end
$var wire 1 ; Data_Valid $end
$var wire 1 = PAR_TYP $end
$var wire 1 < PAR_EN $end
$var wire 1 ) Busy $end
$var wire 1 > CLK $end
$var wire 1 ? RST $end
$var reg 1 X par_bit $end
$var reg 8 Y Data [7:0] $end
$upscope $end

$scope module mux $end
$var wire 1 F mux_sel [2] $end
$var wire 1 G mux_sel [1] $end
$var wire 1 H mux_sel [0] $end
$var wire 1 D start_bit $end
$var wire 1 E stop_bit $end
$var wire 1 B ser_data $end
$var wire 1 C par_bit $end
$var wire 1 > CLK $end
$var wire 1 ? RST $end
$var reg 1 Z TX_OUT $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
#0
$dumpvars
b0 "
0#
0$
0%
0&
1'
xN
bx O
xP
bx Q
b0 R
xS
bx U
bx V
xX
bx Y
xZ
bx +
x,
bx -
x.
x/
bx 0
bx 1
b101 !
b1000 2
b0 I
b1 J
b10 K
b11 L
b100 M
b1000 T
b1000 W
bx *
x(
x)
x@
xA
xB
xC
0D
1E
xH
xG
xF
1?
0>
0=
0<
0;
0:
09
08
07
06
05
04
03
$end
#2000
1&
1>
b0 V
b0 Q
0Z
0(
0@
0N
b0 O
0S
0A
0H
0G
0F
#4000
0&
0>
#5000
0'
0?
0P
b0 U
b0 Y
0X
0B
0)
0C
#6000
1&
1>
#8000
0&
0>
#10000
1'
b101110 +
0,
1&
1?
1>
#12000
0&
0>
b101110 "
1$
1#
19
18
17
15
1<
1;
b1 R
#14000
1&
1>
b1 Q
b101110 U
b101110 Y
b10 R
1S
b111 O
1H
1G
1F
#16000
0&
0>
0#
0.
1/
bx0 -
bx001011100 -
bx0001011100 -
b10001011100 -
b0 *
0;
#18000
1&
1>
1P
b10 Q
1)
b0 O
0S
1N
1S
b10 O
0H
0F
1A
#20000
0&
0>
b1 *
#22000
1&
1>
b1 V
b10111 U
1B
#24000
0&
0>
b10 *
#26000
1&
1>
b10 V
1Z
b1011 U
1(
#28000
0&
0>
b11 *
#30000
1&
1>
b11 V
b101 U
#32000
0&
0>
b100 *
#34000
1&
1>
b100 V
b10 U
0B
#36000
0&
0>
b101 *
#38000
1&
1>
b101 V
0Z
b1 U
1B
0(
#40000
0&
0>
b110 *
#42000
1&
1>
b110 V
b0 U
1Z
0B
1(
#44000
0&
0>
b111 *
#46000
1&
1>
b111 V
0Z
0(
1@
b11 R
0N
b0 O
0S
1N
1S
b10 O
0N
0A
#48000
0&
0>
b1000 *
#50000
1&
1>
b0 V
b11 Q
0@
b100 R
b0 O
0S
1S
b11 O
1H
#52000
0&
0>
b1001 *
#54000
1&
1>
b100 Q
b0 R
b0 O
0S
1S
b1 O
0G
#56000
0&
0>
b1010 *
#58000
1&
1>
1Z
b0 Q
1(
b0 O
0S
0H
#60000
0&
0>
b1011 *
1,
#62000
1&
1>
0P
0Z
0)
0(
#64000
0&
0>
1%
1#
1=
1;
b1 R
#66000
1&
1>
b1 Q
1X
b101110 U
1C
b10 R
1S
b111 O
1H
1G
1F
#68000
0&
0>
0#
b11001011100 -
b0 *
0;
#70000
1&
1>
1P
b10 Q
1)
b0 O
0S
1N
1S
b10 O
0H
0F
1A
#72000
0&
0>
b1 *
#74000
1&
1>
b1 V
b10111 U
1B
#76000
0&
0>
b10 *
#78000
1&
1>
b10 V
1Z
b1011 U
1(
#80000
0&
0>
b11 *
#82000
1&
1>
b11 V
b101 U
#84000
0&
0>
b100 *
#86000
1&
1>
b100 V
b10 U
0B
#88000
0&
0>
b101 *
#90000
1&
1>
b101 V
0Z
b1 U
1B
0(
#92000
0&
0>
b110 *
#94000
1&
1>
b110 V
b0 U
1Z
0B
1(
#96000
0&
0>
b111 *
#98000
1&
1>
b111 V
0Z
0(
1@
b11 R
0N
b0 O
0S
1N
1S
b10 O
0N
0A
#100000
0&
0>
b1000 *
#102000
1&
1>
b0 V
b11 Q
0@
b100 R
b0 O
0S
1S
b11 O
1H
#104000
0&
0>
b1001 *
#106000
1&
1>
1Z
b100 Q
1(
b0 R
b0 O
0S
1S
b1 O
0G
#108000
0&
0>
b1010 *
#110000
1&
1>
b0 Q
b0 O
0S
0H
#112000
0&
0>
b1011 *
b101110 0
#114000
1&
1>
0Z
0P
0(
0)
#116000
0&
0>
0$
1#
0<
1;
b1 R
#118000
1&
1>
b1 Q
b101110 U
b10 R
1S
b111 O
1H
1G
1F
#120000
0&
0>
0#
bx0 1
bx001011100 1
b1001011100 1
b0 *
0;
#122000
1&
1>
1P
b10 Q
1)
b0 O
0S
1N
1S
b10 O
0H
0F
1A
#124000
0&
0>
b1 *
#126000
1&
1>
b1 V
b10111 U
1B
#128000
0&
0>
b10 *
#130000
1&
1>
b10 V
1Z
b1011 U
1(
#132000
0&
0>
b11 *
#134000
1&
1>
b11 V
b101 U
#136000
0&
0>
b100 *
#138000
1&
1>
b100 V
b10 U
0B
#140000
0&
0>
b101 *
#142000
1&
1>
b101 V
0Z
b1 U
1B
0(
#144000
0&
0>
b110 *
#146000
1&
1>
b110 V
b0 U
1Z
0B
1(
#148000
0&
0>
b111 *
#150000
1&
1>
b111 V
0Z
0(
1@
b100 R
0N
b0 O
0S
1N
1S
b10 O
0N
0A
#152000
0&
0>
b1000 *
#154000
1&
1>
b0 V
b100 Q
0@
b0 R
b0 O
0S
1S
b1 O
1H
0G
#156000
0&
0>
b1001 *
#158000
1&
1>
1Z
b0 Q
1(
b0 O
0S
0H
#160000
0&
0>
b1010 *
b10101110 +
0,
#162000
1&
1>
0P
0Z
0)
0(
#164000
0&
0>
b10101110 "
1$
0%
1#
13
0=
1<
1;
b1 R
#166000
1&
1>
b1 Q
0X
b10101110 U
b10101110 Y
0C
b10 R
1S
b111 O
1H
1G
1F
#168000
0&
0>
0#
1.
0/
b11101011100 -
b0 *
0;
#170000
1&
1>
1P
1X
b10 Q
1)
1C
b0 O
0S
1N
1S
b10 O
0H
0F
1A
#172000
0&
0>
b1 *
#174000
1&
1>
b1 V
b1010111 U
1B
#176000
0&
0>
b10 *
#178000
1&
1>
b10 V
1Z
b101011 U
1(
#180000
0&
0>
b11 *
#182000
1&
1>
b11 V
b10101 U
#184000
0&
0>
b100 *
#186000
1&
1>
b100 V
b1010 U
0B
#188000
0&
0>
b101 *
#190000
1&
1>
b101 V
0Z
b101 U
1B
0(
#192000
0&
0>
b110 *
#194000
1&
1>
b110 V
b10 U
1Z
0B
1(
#196000
0&
0>
b111 *
#198000
1&
1>
b111 V
0Z
b1 U
1B
0(
1@
b11 R
0N
b0 O
0S
1N
1S
b10 O
0N
0A
#200000
0&
0>
b1000 *
#202000
1&
1>
b0 V
b11 Q
1Z
1(
0@
b100 R
b0 O
0S
1S
b11 O
1H
#204000
0&
0>
b1001 *
#206000
1&
1>
b100 Q
b0 R
b0 O
0S
1S
b1 O
0G
#208000
0&
0>
b1010 *
#210000
1&
1>
b0 Q
b0 O
0S
0H
#212000
0&
0>
b1011 *
1,
#214000
1&
1>
0Z
0P
0(
0)
#216000
0&
0>
1%
1#
1=
1;
b1 R
#218000
1&
1>
b1 Q
0X
b10101110 U
0B
0C
b10 R
1S
b111 O
1H
1G
1F
#220000
0&
0>
0#
b10101011100 -
b0 *
0;
#222000
1&
1>
1P
b10 Q
1)
b0 O
0S
1N
1S
b10 O
0H
0F
1A
#224000
0&
0>
b1 *
#226000
1&
1>
b1 V
b1010111 U
1B
#228000
0&
0>
b10 *
#230000
1&
1>
b10 V
1Z
b101011 U
1(
#232000
0&
0>
b11 *
#234000
1&
1>
b11 V
b10101 U
#236000
0&
0>
b100 *
#238000
1&
1>
b100 V
b1010 U
0B
#240000
0&
0>
b101 *
#242000
1&
1>
b101 V
0Z
b101 U
1B
0(
#244000
0&
0>
b110 *
#246000
1&
1>
b110 V
b10 U
1Z
0B
1(
#248000
0&
0>
b111 *
#250000
1&
1>
b111 V
0Z
b1 U
1B
0(
1@
b11 R
0N
b0 O
0S
1N
1S
b10 O
0N
0A
#252000
0&
0>
b1000 *
#254000
1&
1>
b0 V
b11 Q
1Z
1(
0@
b100 R
b0 O
0S
1S
b11 O
1H
#256000
0&
0>
b1001 *
#258000
1&
1>
0Z
b100 Q
0(
b0 R
b0 O
0S
1S
b1 O
0G
#260000
0&
0>
b1010 *
#262000
1&
1>
b0 Q
1Z
1(
b0 O
0S
0H
#264000
0&
0>
b1011 *
b10101110 0
#266000
1&
1>
0P
0Z
0)
0(
#268000
0&
0>
0$
1#
0<
1;
b1 R
#270000
1&
1>
b1 Q
b10101110 U
0B
b10 R
1S
b111 O
1H
1G
1F
#272000
0&
0>
0#
b1101011100 1
b0 *
0;
#274000
1&
1>
1P
b10 Q
1)
b0 O
0S
1N
1S
b10 O
0H
0F
1A
#276000
0&
0>
b1 *
#278000
1&
1>
b1 V
b1010111 U
1B
#280000
0&
0>
b10 *
#282000
1&
1>
b10 V
1Z
b101011 U
1(
#284000
0&
0>
b11 *
#286000
1&
1>
b11 V
b10101 U
#288000
0&
0>
b100 *
#290000
1&
1>
b100 V
b1010 U
0B
#292000
0&
0>
b101 *
#294000
1&
1>
b101 V
0Z
b101 U
1B
0(
#296000
0&
0>
b110 *
#298000
1&
1>
b110 V
b10 U
1Z
0B
1(
#300000
0&
0>
b111 *
#302000
1&
1>
b111 V
0Z
b1 U
1B
0(
1@
b100 R
0N
b0 O
0S
1N
1S
b10 O
0N
0A
#304000
0&
0>
b1000 *
#306000
1&
1>
b0 V
b100 Q
1Z
1(
0@
b0 R
b0 O
0S
1S
b1 O
1H
0G
#308000
0&
0>
b1001 *
#310000
1&
1>
b0 Q
b0 O
0S
0H
#312000
0&
0>
b1010 *
#314000
1&
1>
0Z
0P
0(
0)
#316000
0&
0>
